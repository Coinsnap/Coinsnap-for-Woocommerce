=== Bitcoin payment for WooCommerce ===
Contributors: coinsnap
Tags: Lightning, SATS, bitcoin, WooCommerce, payment gateway
Tested up to: 6.8
Stable tag: 1.6.1
License: GPLv2
License URI: http://www.gnu.org/licenses/gpl-2.0.html

Accept Bitcoin payments with WooCommerce. All Bitcoin payments are transferred directly from your customer’s wallet into your Lightning wallet.

== Description ==

= Accept Bitcoin payments with WooCommerce - simple, fast & secure! =

To accept Bitcoin payments with WooCommerce has never been more simple and required less information – all you need to get started is an email and a Lightning wallet. The installation of our plugin is done in a few minutes – and you can start accepting Bitcoin payments with WooCommerce today!

With the Coinsnap Bitcoin payment plugin for WooCommerce you only need a Lightning wallet with a Lightning address, a Coinsnap account, and a minute to set up the plugin to accept Bitcoin Lightning payments in your WooCommerce online store.

Coinsnap’s Bitcoin payment plugin for WooCommerce makes it amazingly simple for your customers to purchase your offerings with Bitcoin-Lightning: They can make their transactions with just a scan of the QR code generated by the Coinsnap plugin for WooCommerce, and their authorization of the payment. When authorized, the payment will be credited directly and immediately to your Lightning wallet.

Also, Coinsnap’s Bitcoin payment plugin for WooCommerce is the only such plugin that is fully integrated with BTCPay Server. Merchants who operate their own BTCPay Server can connect their WooCommerce store via the Coinsnap plugin in a few minutes with their BTCPay Server, using Coinsnap’s integrated BTCPay Server wizard.


= Accept Bitcoin payments with WooCommerce in only 3 steps: =

1. Get your [free Coinsnap account](https://app.coinsnap.io/register) with just your email
2. Install, activate and configure the plugin in your WordPress backend ([see the installation guide](https://coinsnap.io/coinsnap-for-woocommerce-installation-guide/))
3. Activate Bitcoin payments in WooCommerce and accept Bitcoin payments from your customers


= Why should you choose the Coinsnap for WooCommerce plugin? =

* **Amazingly simple installation** in just 3 steps and a few minutes
* **Customizable checkout** for optimized customer experience
* **Multilingual merchant admin dashboard** for easy administration and management of transactions.

= Why should you choose Coinsnap as your Bitcoin payment solution? =

* **Quick and easy registration:** Just enter your email address and your Lightning address – and you are ready to integrate the payment module and start selling for Bitcoin Lightning.
* **Immediate crediting** of all payments to your Lightning wallet. 
* Payment **transfer directly from your customer’s wallet to your wallet**.
* **Instant conversion and crediting in euro possible** with Coinsnap and your Bringin Lightning address
* **Low transaction fee** of only 1%* of the invoiced amount (*with referrer code).
* The **plugin is free of cost**, including all future updates. Stay up-to-date at absolutely no cost today or in the future.
* **Outstanding privacy:** Direct, P2P payments into your Lightning wallet, no intermediaries and paperwork. Any transaction information is only shared between you and your customer.
* **Detailed reporting** and **advanced filtering** for all transactions, **simple data export** for your accounting. 
* **Sophisticated merchant’s admin dashboard in Coinsnap:** See all your transactions at a glance, follow-up on individual payments or see issues with payments.
* **No need for any technical infrastructure:** Accept Bitcoin and Lightning payments in your online store without having to set up your own server or your own Lightning node.
* **On-chain and Lightning transactions** are supported: Let your customers choose their preferred payment method.
* **BTCPay Server ready**: connect your own BTCPay Server with WooCommerce in just a fes steps and a few minutes – no technical expertise needed!

= Why should you offer Bitcoin payment in your WooCommerce shop? =

* **No chargebacks:** All Bitcoin payments are irreversible.
* **Lightning fast transactions:** Receive your payment within seconds (with the Lightning payment method), in minutes with on-chain.
* **Low fees** (with Lightning) 
* **Global reach:** Sell to any customer anywhere – all he needs to buy from you is a Lightning wallet.

= More information: =

* Demo Store: [https://woocommerce.coinsnap.org/](https://woocommerce.coinsnap.org/)
* Product page: [https://coinsnap.io/coinsnap-for-woocommerce-plugin/](https://coinsnap.io/coinsnap-for-woocommerce-plugin/)
* Installation Guide: [https://coinsnap.io/coinsnap-for-woocommerce-installation-guide/](https://coinsnap.io/coinsnap-for-woocommerce-installation-guide/)
* Github plugin page: [https://github.com/Coinsnap/Coinsnap-for-Woocommerce](https://github.com/Coinsnap/Coinsnap-for-Woocommerce)

= Documentation: =

* [Coinsnap API (1.0) documentation](https://docs.coinsnap.io/)
* [Frequently Asked Questions](https://coinsnap.io/en/faq/) 
* [Terms and Conditions](https://coinsnap.io/en/general-terms-and-conditions/)
* [Privacy Policy](https://coinsnap.io/en/privacy/)


== Installation ==

= 1. Install the Coinsnap for WooCommerce plugin from the WordPress plugin repository =

The Coinsnap for WooCommerce plugin can be searched and installed in the WordPress plugin directory.

You can easily find the Coinsnap for WooCommerce plugin under Plugins/Install new plugin if you enter Coinsnap WooCommerce in the search field. Simply click on Install now in the Coinsnap plugin and WordPress will install it for you.

Now WordPress will offer you to Activate the pugin – click the button and you set to go!

Next, you will connect the plugin with your Coinsnap account.

= 1.1. WooCommerce Coinsnap Settings =

After you have installed and activated the Coinsnap for WooCommerce plugin, you need to configure the Coinsnap settings. To do that, go to **WooCommerce / Settings**. Now open the tab on the far right named **Coinsnap Settings**.

You will see in a red message on the top of the tab, that there is a **Coinsnap serer is disconnected**. Ignore this for now, for we will now connect the plugin with your Coinsnap account.


To do that, you need to enter your Coinsnap **Store ID** and your Coinsnap **API key**.

These details are provided in your Coinsnap account in the **store settings** section. If you do not yet have a Coinsnap account, you can register under the following link: [Coinsnap registration](https://app.coinsnap.io/register).

You will be asked to name your store, and to enter your Lightning wallet adress. When this is done you are ready for the next step.

= 1.2. Enter Store ID and API Key in your WooCommerce Coinsnap Settings =

Go to the **Settings** menu item in your Coinsnap merchant admin backend. Then click on **Store** and you will see your Coinsnap **Store ID** and the Coinsnap **API Key** in the **Store** section.

**Copy** these two strings and **paste** them into the matching fields in the **Coinsnap settings in WooCommerce** in your shop’s backend. 

Click on the “**Save changes**” button at the bottom of the page to apply and save the settings. You will now see a green message on top of the tab saying **Coinsnap server is connected**. You are almost ready to start selling for Bitcoin now.

= 1.3. WooCommerce payment settings =

Now you need to **add the payment method** Bitcoin-Lightning payment to your **WooCommerce checkout**.

To do this, navigate to the **Payments** tab under the WooCommerce settings to see a list of all available payment methods. Coinsnap is shown at the bottom of the list.

(1) **Enable** Coinsnap by moving the slider to the right.

You must activate Coinsnap as a payment option!

**Additional configurations – customize your checkout**

To do this, click on the “**Finish setup**” button (or the “**Manage**” button after you activated the payment method). Here you can make some adjustments that impact the customer’s journey during the payment process.

(a) **Enabled/Disabled**: Make sure the gateway is enabled!
(b) **Title**: You can change the default text, i.e. to „Bitcoin/Lightning payment“.
(c) **Customer Message**: Here you should let your customer know what to expect next. 
(d) **Button Text**: you can also change the text on the button that initiates the actual payment and generatest he QR code for your customer’s payment, i.e. to „I want to pay with Bitcoin now!“  
(e) **Gateway symbol**: Here you can upload an icon of your choice that illustrates the Bitcoin-Lightning payment method in your checkout. This image serves as a visual indicator for a specific payment option or gateway that is displayed to the customer at the time of checkout.

= YOU ARE SET TO SELL FOR BITCOIN NOW! To be sure all works fine, you should now… =

= 1.4. Test the payment method in your WooCommerce store =

After all settings have been made, a test transaction should be carried out.

Place an order in your WooCommerce online store and choose the Bitcoin-Lightning Payment option. Click on Pay with Bitcoin.

You will now be redirected to the Bitcoin-Lightning payment page to complete the purchase. The Bitcoin payment page is now displayed and offers the payer the option of paying with Bitcoin or Lightning. Both methods are integrated in the displayed QR code. After successful payment, the invoice can be viewed in detail.


= 2. Install the Coinsnap WooCommerce plugin from our Github page =

If you don’t want to install Coinsnap WooCommerce plugin directly from your WordPress backend, download the Coinsnap for WooCommerce plugin from the [Coinsnap Github page here](https://github.com/Coinsnap/Coinsnap-for-Woocommerce).

Find the green button labeled **Code**. When you click on it, the menu opens and Download ZIP appears. Here you can download the latest version of the Coinsnap plugin to your computer.

Then use the “**Upload plugin**” function to install it. Click on “**Install now**” and the Coinsnap for WooCommerce plugin will be added to your WordPress website. It can then be connected to the Coinsnap payment gateway.

As soon as the Coinsnap for WooCommerce plugin is installed and activated, a message will appear asking you to configure the plugin settings.

From here on you can follow 1.1 to 1.4 and you will be set to sell for Bitcoin in no time at all!



== Upgrade Notice ==

Follow updates on plugin's [GitHub page](https://github.com/Coinsnap/coinsnap-woocommerce/)


== Frequently Asked Questions ==

= What are the requirements for accepting Bitcoin in my WooCommerce shop? =

In addition to your WooCommerce shop, you need a [Coinsnap account](https://coinsnap.io/register) and a [Bitcoin Lightning Wallet](https://coinsnap.io/how-do-i-get-a-lightning-wallet/). There are no further requirements.

= Can I customise my Bitcoin Lightning Checkout? =

Yes, you can determine the name of the payment method yourself and upload your own icon/logo. You can also formulate the display texts during the individual steps of the checkout yourself. You can also determine the destination of the redirect upon successful payment yourself.

= Do I need technical knowledge for the installation? =

You can set up the plugin yourself in just a few steps using our [installation instructions](https://coinsnap.io/coinsnap-for-woocommerce-installation-guide/). If you have any difficulties with the installation, you can also contact our [free installation service](https://share-eu1.hsforms.com/1T9orZQ1GRDKWmoS_pOxNtw2d98nw).

= How quickly are Bitcoin payments credited? =

Your customers can pay with both Bitcoin Lightning and Bitcoin on-chain. Bitcoin Lightning payments are immediately available on your wallet. Bitcoin on-chain payments are credited as soon as the first confirmation is received in the blockchain.

= Are my customer transactions stored by Coinsnap? =

Coinsnap does not store any of its merchants' Bitcoin. All of your customer’s Bitcoin payments are transferred directly from your customers’ wallet to the merchant wallet.

= What fees are charged? =

The transaction fee is only 1%*, significantly less than with credit cards or PayPal (* with referrer code).

= Can I receive Bitcoin payments to my bank account? =

Yes, you can select the payout method ‘by bank transfer’ and our partner DFX when registering your Coinsnap account. Your incoming payment will then be forwarded to the Swiss Bitcoin broker, who will pay out the amount in EUR to your bank account. You can find more information here.

= Can customers make a chargeback? =

Chargebacks of customer payments are not possible with Bitcoin payments. This means that every Bitcoin payment is secure and guaranteed for you as a merchant.

= Which wallets can I use? =

You need a [Bitcoin Lightning wallet](https://coinsnap.io/how-do-i-get-a-lightning-wallet/) to credit your Bitcoin transactions. Coinsnap recommends the Bitcoin Lightning Wallets from Wallet of Satoshi, Strike or the Blink Wallet. However, there are many other Bitcoin Lightning wallets that you can also use. You can find more information about Bitcoin Lightning wallets here!

= Does the plugin only work in my region or language area? =

The Coinsnap for WooCommerce plugin, as well as the Bitcoin blockchain and the Lightning network, are globally available and able to transfer payments worldwide, without interference from any banks. You can accept payments from any global customer who has a Lightning Wallet!

= Are there regular updates for the Coinsnap for Woocommerce plugin? =

Yes, our team is constantly working on improvements and new functions for the Coinsnap for WooCommerce plugin. If there is a new version, this will be automatically displayed in WordPress under Plugins and you can update the plugin with one click. This means you always have the latest version of the WooCommerce plugin installed!

= Where can I get support if I have questions? =

Our team is always there for you. If you need help installing the plugin, please refer to the WooCommerce installation guide. There is also an option there to request an installation service.

If you have any other questions, please use our support area. After you have registered with Coinsnap, you will find the support area in your dashboard - here you can ask us your questions at any time!


== Screenshots ==

1. Install the Coinsnap for WooCommerce Plugin in WordPress
2. Activate plugin!
3. Go to the Coinsnap Settings tab in WooCommerce settings
4. Now you need to fill the fields „Coinsnap Store ID“ and „Coinsnap API Key“
5. You find these data in your Coinsnap backend
6. Add these strings in fields 2 and 3, respectively
7. Go to „Payments“ tab in the WooCommerce settings to activate Bitcoin payment (1)
8. Customize the checkout process according to your needs
9. Bitcoin payment activated
10. Coinsnap plugin connected to Coinsnap payment gateway
11. Coinsnap plugin connected to BTCPay server
12. Download Coinsnap for WooCommerce on github
13. QR code on the Bitcoin payment page
14. Invoice is paid

== Changelog ==
= 1.0.0 :: 2023-08-03 =
* First public release for testing.

= 1.0.5 :: 2023-12-12 =
* Payment button text setting is added.

= 1.1.0 :: 2024-02-28 =
* Basic Wordpress Blocks support is added.

= 1.1.1 :: 2024-03-22 =
* Restructured loader.

= 1.1.2 :: 2024-05-08 =
* Payment status display update.
* Fix: Payment status changing.

= 1.1.3 :: 2024-07-03 =
* Order number and order ID separation.
* Full order metadata array transmission.

= 1.1.4 :: 2024-10-03 =
* Wordpress library update.
* Data output security update.
* Compatibility with WooCommerce 9.3.x. is tested
* Fix: order ID variable type is ?string.

= 1.1.5 :: 2024-10-11 =
* Wordpress library update.
* Fixed error on checkout.

= 1.1.6 :: 2024-11-06 =
* Coinsnap connection errors exception update.
* Update of Coinsnap gateway icon upload functionality.
* Update of payment method name by default (Bitcoin-Lightning)

= 1.1.7 :: 2024-12-10 =
* Fixed bug in ConnectException handler.

= 1.1.8 :: 2024-12-24 =
* Fixed mismatch variables types bug in ConnectException function call.

= 1.1.9 :: 2025-01-18 =
* Fixed webhook creation bug in processWebhook function call.
* Update of webhook payload response statuses.

= 1.1.10 :: 2025-01-27 =
* Added Coinsnap server connection check indication in backend.

= 1.1.11 :: 2025-02-09 =
* Update: Coinsnap server connection check indication in backend marks as "WooCommerce".
* Default WooCommerce status for "Settled" is "Completed".
* Compatibility with WooCommerce 9.6.x. is tested.

= 1.1.12 :: 2025-03-09 =
* Fixed Wordpress warning about non-used wp_get_attachment_image() method for Coinsnap payment gateway icon in WooCommerce payment settings.
* Compatibility with WooCommerce 9.7.x. is tested.

= 1.2.0 :: 2025-04-04 =
* Update: Woocommerce currencies list is limited by currencies, supported by Coinsnap.
* Update: After plugin activation or update non-supported currency switches to USD.
* Update: Added option "Redirect after payment automatically".
* Update: Prevented redirect to payment gateway if payment amount is less than 1 SAT or currency in not supported by Coinsnap.
* Update: Error message changed to "Coinsnap server is disconnected" if Coinsnap server is not connected or there is webhook error.

= 1.3.0 :: 2025-04-16 =
* Update: BTCPay server added as a Bitcoin payment gateway
* Update: Added discount for payment with Coinsnap functionality
* Compatibility with WooCommerce 9.8.x. is tested.
* Compatibility with Wordpress 6.8 is tested.

= 1.3.1 :: 2025-05-01 =
* Update: If BTCPay server is chosen as a Bitcoin payment gateway, we don't limit WooCommerce currencies list.
* Compatibility with Wordpress 6.8.1 is tested.
* Compatibility with WooCommerce 9.8.3. is tested.

= 1.3.5 :: 2025-05-05 =
* Update: Prevented redirect to BTCPay server if payment amount is less than 0.000005869 BTC (0.50 EUR) for onchain payments, 0.000001 BTC (1 SAT) for Lightning payment or currency is not supported.
* Update: BTCPay setup wizard is added in BTCPay server settings.

= 1.3.6 :: 2025-05-06 =
* Update: Minimum order amount is added to connection status notice.
* Update: Woocommerce store admin can choose where to show connection status notice and hide it from all the Admin pages.
* Compatibility with WooCommerce 9.8.4. is tested.

= 1.3.7 :: 2025-05-13 =
* Update: Coinsnap Wordpress library.
* Update: Permissions check is added to BTCPay server request handler on BTCPay server connection setup process.
* Compatibility with WooCommerce 9.8.5. is tested.

= 1.3.8 :: 2025-05-18 =
* Fixed bug in payment process when discount is disabled.
* Fixed bug with discount fields turning on on payment settings page.

= 1.3.9 :: 2025-05-19 =
* Updated connection check errors handler

= 1.3.10 :: 2025-05-27 =
* Fixed bug in payment process when payment provider wasn't chosen.
* Updated gateway connection status displaying conditions.

= 1.4.0 :: 2025-06-10 =
* Fixed bug in webhook payload process when payment provider wasn't chosen.
* Update: Checking and deleting all the inactive webhooks for the store.
* Compatibility with WooCommerce 9.9.3. is tested.

= 1.4.1 :: 2025-06-20 =
* Update: Unique name for BTCPay server setup Wizard return URL is set.

= 1.4.2 :: 2025-07-19 =
* Update: Added nonce check for BTCPay server request in Wizard setup flow.
* Updated Generate API Key button behavior.
* Compatibility with WooCommerce 10.0. is tested.
* Compatibility with Wordpress 6.8.2 is tested.

= 1.5.0 :: 2025-08-03 =
* Updated BTCPay server minimum payment amount calculation system
* Updated BTCPay server events and webhook payload handler
* Compatibility with WooCommerce 10.0.4 is tested.

= 1.5.1 :: 2025-08-16 =
* Added action ins in plugins list
* Compatibility with WooCommerce 10.1.0 is tested.

= 1.5.2 :: 2025-08-30 =
* Fixed error with webhook registration on BTCPay server
* Compatibility with WooCommerce 10.1.2 is tested.

= 1.5.3 :: 2025-09-12 =
* Updated webhook payload handler

= 1.5.4 :: 2025-09-18 =
* Update: Coinsnap is active payment method on checkout if no payment method is set.

= 1.6.0 :: 2025-09-23 =
* Update: Bitcoin discount is indicated in payment methods list on Checkout page.

= 1.6.1 :: 2025-10-10 =
* Update: Added non-supported by BTCPay server currencies handler on invoice request flow.
* Update: Added custom redirect after payment page in module settings.
* Compatibility with Wordpress 6.8.3 and WooCommerce 10.2.2 is tested.
